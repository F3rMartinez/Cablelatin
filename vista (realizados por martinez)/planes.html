<!--- TABLA PLANES -->

<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Planes</title>
  <style>
    body {
      font-family: "Segoe UI", Tahoma, sans-serif;
      background-color: #f5f7fa;
      margin: 0;
      padding: 20px;
    }

    .container {
      background: white;
      padding: 20px 30px;
      border-radius: 10px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      max-width: 1100px;
      margin: auto;
    }

    .header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 15px;
    }

    .header h2 {
      font-size: 20px;
      color: #333;
      margin: 0;
    }

    .add-btn {
      background-color: #4e73df;
      color: white;
      border: none;
      border-radius: 5px;
      padding: 8px 12px;
      font-size: 18px;
      cursor: pointer;
    }

    .controls {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 15px;
    }

    .controls select, .controls input {
      padding: 5px;
      border: 1px solid #ccc;
      border-radius: 5px;
      font-size: 14px;
    }

    table {
      width: 100%;
      border-collapse: collapse;
    }

    th, td {
      padding: 10px 12px;
      text-align: left;
      border-bottom: 1px solid #e3e3e3;
    }

    th {
      background-color: #f2f4f7;
      color: #333;
    }

    tr:hover {
      background-color: #f9f9f9;
    }

    .estado {
      padding: 4px 10px;
      border-radius: 12px;
      font-size: 12px;
      color: white;
      background-color: #28a745;
    }

    .acciones button {
      border: none;
      background: none;
      cursor: pointer;
      padding: 5px;
      border-radius: 5px;
    }

    .acciones .edit {
      color: #4e73df;
      border: 1px solid #4e73df;
    }

    .acciones .delete {
      color: #e74a3b;
      border: 1px solid #e74a3b;
    }

    .acciones button:hover {
      background-color: #f2f2f2;
    }

    .pagination {
      display: flex;
      justify-content: flex-end;
      align-items: center;
      margin-top: 10px;
      gap: 10px;
    }

    .pagination button {
      padding: 5px 10px;
      border: 1px solid #ccc;
      background: #fff;
      border-radius: 5px;
      cursor: pointer;
    }

    .pagination button.active {
      background-color: #4e73df;
      color: white;
      border-color: #4e73df;
    }

    .pagination button:hover {
      background-color: #e9ecef;
    }

    .footer-text {
      font-size: 13px;
      color: #555;
      margin-top: 5px;
    }
  </style>
</head>
<body>

  <div class="container">
    <div class="header">
      <h2>Planes</h2>
      <button class="add-btn">+</button>
    </div>

    <div class="controls">
      <div>
        Mostrar 
        <select id="numRegistros">
          <option value="5" selected>5</option>
          <option value="10">10</option>
          <option value="20">20</option>
        </select> registros
      </div>
      <div>
        Buscar: <input type="text" id="buscar" placeholder="Buscar plan...">
      </div>
    </div>

    <table id="tablaPlanes">
      <thead>
        <tr>
          <th>Id</th>
          <th>Plan</th>
          <th>Descripci√≥n</th>
          <th>Precio Plan</th>
          <th>P. Instalaci√≥n</th>
          <th>Condici√≥n</th>
          <th>Estado</th>
          <th>Acciones</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>

    <div class="footer-text" id="infoRegistros"></div>
    <div class="pagination" id="pagination"></div>
  </div>

  <script>
    const planes = [
      {id: 73, plan: "pobr", descripcion: "xd", precio: 20.00, instalacion: 0.00, condicion: "MENSUAL", estado: "Activo"},
      {id: 71, plan: "Plan 50MB", descripcion: "x", precio: 20.00, instalacion: 0.00, condicion: "MENSUAL", estado: "Activo"},
      {id: 70, plan: "Plan 30MB", descripcion: "x", precio: 80.00, instalacion: 0.00, condicion: "MENSUAL", estado: "Activo"},
      {id: 69, plan: "Plan 20MB", descripcion: "x", precio: 60.00, instalacion: 0.00, condicion: "MENSUAL", estado: "Activo"},
      {id: 68, plan: "Plan 10 MB", descripcion: "ok", precio: 50.00, instalacion: 0.00, condicion: "MENSUAL", estado: "Activo"},
    ];

    const tbody = document.querySelector("#tablaPlanes tbody");
    const buscar = document.getElementById("buscar");
    const numRegistros = document.getElementById("numRegistros");
    const infoRegistros = document.getElementById("infoRegistros");
    const pagination = document.getElementById("pagination");

    let paginaActual = 1;

    function renderTabla(data) {
      tbody.innerHTML = "";
      const inicio = (paginaActual - 1) * numRegistros.value;
      const fin = inicio + Number(numRegistros.value);
      const pagina = data.slice(inicio, fin);

      pagina.forEach(p => {
        const tr = document.createElement("tr");
        tr.innerHTML = `
          <td>${p.id}</td>
          <td>${p.plan}</td>
          <td>${p.descripcion}</td>
          <td>${p.precio.toFixed(2)}</td>
          <td>${p.instalacion.toFixed(2)}</td>
          <td>${p.condicion}</td>
          <td><span class="estado">${p.estado}</span></td>
          <td class="acciones">
            <button class="edit">‚úèÔ∏è</button>
            <button class="delete">üóëÔ∏è</button>
          </td>
        `;
        tbody.appendChild(tr);
      });

      infoRegistros.textContent = `Mostrando registros del ${inicio + 1} al ${Math.min(fin, data.length)} de un total de ${data.length} registros`;
      renderPaginacion(data.length);
    }

    function renderPaginacion(total) {
      pagination.innerHTML = "";
      const totalPaginas = Math.ceil(total / numRegistros.value);

      const btnAnterior = document.createElement("button");
      btnAnterior.textContent = "Anterior";
      btnAnterior.disabled = paginaActual === 1;
      btnAnterior.onclick = () => { paginaActual--; filtrar(); };
      pagination.appendChild(btnAnterior);

      for (let i = 1; i <= totalPaginas; i++) {
        const btn = document.createElement("button");
        btn.textContent = i;
        if (i === paginaActual) btn.classList.add("active");
        btn.onclick = () => { paginaActual = i; filtrar(); };
        pagination.appendChild(btn);
      }

      const btnSiguiente = document.createElement("button");
      btnSiguiente.textContent = "Siguiente";
      btnSiguiente.disabled = paginaActual === totalPaginas;
      btnSiguiente.onclick = () => { paginaActual++; filtrar(); };
      pagination.appendChild(btnSiguiente);
    }

    function filtrar() {
      const texto = buscar.value.toLowerCase();
      const filtrado = planes.filter(p =>
        p.plan.toLowerCase().includes(texto) ||
        p.descripcion.toLowerCase().includes(texto)
      );
      renderTabla(filtrado);
    }

    buscar.addEventListener("input", () => { paginaActual = 1; filtrar(); });
    numRegistros.addEventListener("change", () => { paginaActual = 1; filtrar(); });

    renderTabla(planes);
  </script>

</body>
</html>
