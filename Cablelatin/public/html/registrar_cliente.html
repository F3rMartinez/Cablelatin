<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registrar Cliente - CABLE LATIN</title>
    
    <script src="https://unpkg.com/lucide@latest"></script>
    
    <link rel="stylesheet" href="/Cablelatin/public/css/registrarCliente.css">

</head>
<body>

    <div id="sidebar-container">
        </div>

    <main id="main-content">
        
        <header class="header-main">
            <button id="sidebar-toggle-mobile-main" class="sidebar-toggle-btn">
                <i data-lucide="menu"></i>
            </button>
            <h1 style="font-size: 1.1rem; margin: 0; font-weight: 500; color: #495057;">Registro de Cliente</h1>
        </header>

        <div class="form-wrapper-center">
            <div class="panel-form">
                
                <h2 class="form-title">Nuevo Cliente y Servicio</h2>
            
                <div class="tab-navigation">
                    <div class="tab-item active" data-step="1" id="tab-step-1">
                        Paso 1: Datos del Cliente
                    </div>
                    <div class="tab-item" data-step="2" id="tab-step-2">
                        Paso 2: Asignación de Servicio
                    </div>
                </div>

                <form id="multiStepForm">
                    <div class="form-carousel" id="formCarousel">
                    
                        <div class="form-step active" data-step="1">
                            <div class="form-content-grid">
                                <div class="client-type-group">
                                    <label>Tipo de Cliente:</label>
                                    <div class="client-type-options">
                                        <label>
                                            <input type="radio" name="tipoCliente" value="Residencia" checked> 
                                            <span class="ml-2">Residencia / Personal</span>
                                        </label>
                                        <label>
                                            <input type="radio" name="tipoCliente" value="Empresarial"> 
                                            <span class="ml-2">Empresarial (RUC)</span>
                                        </label>
                                    </div>
                                </div>
                                
                                <div>
                                    <div class="form-group-grid">
                                        <label for="nombres">Nombres:</label>
                                        <input type="text" id="nombres" name="nombres" required>
                                    </div>
                                    <div class="form-group-grid">
                                        <label for="apellidos">Apellidos:</label>
                                        <input type="text" id="apellidos" name="apellidos" required>
                                    </div>
                                    <div class="form-group-grid">
                                        <label for="tipoDocumento">Tipo de Documento:</label>
                                        <select id="tipoDocumento" name="tipoDocumento">
                                            <option value="DNI">DNI</option>
                                            <option value="RUC">RUC</option>
                                        </select>
                                    </div>
                                    <div class="form-group-grid">
                                        <label for="nDocumento">Nº de Documento:</label>
                                        <input type="text" id="nDocumento" name="nDocumento" required>
                                    </div>
                                    <div class="form-group-grid">
                                        <label for="email">Correo Electrónico:</label>
                                        <input type="email" id="email" name="email" required>
                                    </div>
                                    <div class="form-group-grid">
                                        <label for="telefono">Teléfono / Celular:</label>
                                        <input type="tel" id="telefono" name="telefono" required>
                                    </div>
                                </div>
                                
                                <div>
                                    <div class="form-group-grid">
                                        <label for="direccionCompleta">Dirección (Calle/Av/N°):</label>
                                        <input type="text" id="direccionCompleta" name="direccionCompleta" required>
                                    </div>
                                    <div class="form-group-grid">
                                        <label for="distrito">Distrito / Ciudad:</label>
                                        <input type="text" id="distrito" name="distrito" required>
                                    </div>
                                    <div class="form-group-grid">
                                        <label for="provincia">Provincia:</label>
                                        <input type="text" id="provincia" name="provincia" required>
                                    </div>
                                    <div class="form-group-grid">
                                        <label for="departamento">Departamento:</label>
                                        <input type="text" id="departamento" name="departamento" required>
                                    </div>
                                    <div class="form-group-grid" style="grid-row: span 2;">
                                        <label for="referencia">Referencia / Notas Adicionales:</label>
                                        <textarea id="referencia" name="referencia" rows="4" placeholder="Ej: Casa de dos pisos con portón azul, preguntar por Sr. Pérez..."></textarea>
                                    </div>
                                </div>
                            </div>
                            <div class="mt-4 flex justify-end">
                                <button type="button" class="btn-action btn-next" data-target-step="2">
                                    Continuar a Asignación &rarr;
                                </button>
                            </div>
                        </div>
                    
                        <div class="form-step" data-step="2">
                            <p class="servicio-info">Asignando servicio para: <strong id="customerNameDisplay">(Nombre del Cliente)</strong></p>
                            <div class="form-content-grid">
                                
                                <div>
                                    <div class="form-group-grid">
                                        <label for="tipoPlan">Seleccione el Plan:</label>
                                        <select id="tipoPlan" name="tipoPlan" required>
                                            <option value="">Cargando planes...</option> 
                                        </select>
                                    </div>
                                     <div class="form-group-grid">
                                        <label for="precioPlan">Precio del Plan (S/):</label>
                                        <input type="number" id="precioPlan" name="precioPlan" step="0.01" placeholder="0.00" required readonly >
                                    </div>
                                    <div class="form-group-grid">
                                        <label for="serviciosAdicionales">Servicios Adicionales (Opcional):</label>
                                        <select id="serviciosAdicionales" name="serviciosAdicionales">
                                            <option value="Ninguno">Ninguno</option>
                                            <option value="HBO">HBO Premium</option>
                                            <option value="FOX">FOX Sports Pack</option>
                                            </select>
                                    </div>
                                    <div class="form-group-grid">
                                        <label for="costoAdicional">Costo Adicional (S/) (Si aplica):</label>
                                        <input type="number" id="costoAdicional" name="costoAdicional" value="0.00" step="0.01" min="0">
                                    </div>
                                   
                                </div>
                                
                                <div>
                                     <div class="form-group-grid">
                                        <label for="fechaInicio">Fecha de Inicio del Servicio:</label>
                                        <input type="date" id="fechaInicio" name="fechaInicio" required> 
                                    </div>
                                    <div class="form-group-grid">
                                        <label for="cicloFacturacion">Día del Mes para Facturación:</label>
                                        <input type="number" id="cicloFacturacion" name="cicloFacturacion" value="15" min="1" max="31" required>
                                    </div>
                                     <div class="form-group-grid">
                                        <label for="estadoServicio">Estado Inicial del Servicio:</label>
                                        <select id="estadoServicio" name="estadoServicio">
                                            <option value="Instalacion">Pendiente Instalación</option>
                                            <option value="Activo">Activo (Instalado)</option>
                                            <option value="Pendiente Pago">Pendiente de Pago Inicial</option>
                                        </select>
                                    </div>
                                     <div class="form-group-grid" style="grid-row: span 2;">
                                        <label for="observaciones">Notas Técnicas / Instalación:</label>
                                        <textarea id="observaciones" name="observaciones" rows="4" placeholder="Ej: Se requiere cableado adicional, poste cercano #123..."></textarea>
                                    </div>
                                </div>
                            </div>
                            <div class="mt-4 flex justify-between">
                                <button type="button" class="btn-action btn-prev" data-target-step="1">
                                    &larr; Volver a Datos Cliente
                                </button>
                                <button type="submit" id="btnSubmit" class="btn-action btn-save">
                                    Registrar Cliente y Servicio &check;
                                </button>
                            </div>
                        </div>
                    </div> 
                </form>

            </div> 
        </div> 
    </main>

    <div id="successModal" class="modal-backdrop hidden">
        <div class="modal-content">
            <div class="modal-icon-wrapper"> <i data-lucide="check-circle-2" class="modal-icon"></i> </div>
            <div class="mt-4">
                <h3>¡Registro Exitoso!</h3>
                <p>El cliente y su servicio asociado han sido guardados correctamente.</p>
            </div>
            <div> <button id="closeModalSuccess" type="button" class="btn-modal-close">Aceptar</button> </div>
        </div>
    </div>

    <div id="errorModal" class="modal-backdrop hidden">
        <div class="modal-content modal-error">
            <div class="modal-icon-wrapper"> <i data-lucide="alert-triangle" class="modal-icon"></i> </div>
            <div class="mt-4">
                <h3>¡Error!</h3>
                <p id="errorModalMessage">Ha ocurrido un error inesperado.</p>
            </div>
            <div> <button id="closeModalError" type="button" class="btn-modal-close">Cerrar</button> </div>
        </div>
    </div>

    <script type="module" src="/Cablelatin/public/js/registrar_cliente.js"></script>
</body>
</html>